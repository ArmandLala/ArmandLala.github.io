<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta charset="utf-8"> 
  <title>SUNFLOWER | A L</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/customize.css">
</head>
<body>
   <!-- NAVBAR START -->
<nav class="navbar">
  <div class="navbar-left">
    <a href="index.html" class="navbar-home" title="Home">
      <!-- Casetta in SVG: puoi cambiare la dimensione (width/height) -->
      <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align: middle;">
        <path d="M3 11l9-9 9 9h-2v8a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-4h-2v4a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-8H3z" stroke="white" stroke-width="2" fill="none"/>
      </svg>
    </a>
  </div>
 <div class="navbar-right">
  <a href="about.html">ABOUT</a>
  <a href="contacts.html">CONTACTS</a>
  <div class="dropdown">
  <a href="#" class="dropbtn">PROJECTS</a>
  <div class="dropdown-content">
    <a href="project1.html">OPULENT TILING</a>
    <a href="project2.html">▲ ◼</a>
    <a href="project3.html">MAZE</a>
    <a href="project4.html">▲ ◼ ⏺</a>
    <a href="project5.html">URBAN MYCELIUM</a>
    <a href="project6.html">HYPNO SPIRAL</a>
    <a href="project7.html">SUNFLOWER</a>
    <a href="project8.html">LOCATION OF A CIRCLE</a>
    <a href="project9.html">DYNAMIC QUAD-SPLIT METER</a>
  </div>
</div>

</div>

</nav>
<!-- NAVBAR END -->
  
  <div class="project-glass-wrapper">
    <!-- Blocco 1: COPERTINA -->
    <div class="glass-box">
  <div class="cover-head">
    <h1 class="cover-title">SUNFLOWER</h1>
    <div class="cover-icons">
      <a href="https://editor.p5js.org/armand.lala0/sketches/4d3uKSXkt" target="_blank" title="Vai al progetto JS" class="icon-btn">
        <span class="icon-js">JS*</span>
      </a>
      <a href="doc/project7.pdf" target="_blank" download title="Scarica PDF" class="icon-btn">
        <svg height="20" width="20" viewBox="0 0 20 20" fill="none" stroke="white" stroke-width="2">
          <rect x="4" y="2" width="12" height="16" rx="2" fill="none"/>
          <path d="M8 6h4M8 10h4M8 14h4"/>
        </svg>
      </a>
    </div>
  </div>
  <img src="images/purple.png" alt="Blue Project" class="cover-img">

    </div>
    <!-- Blocco 2: DESCRIZIONE -->
    <div class="glass-box">
      <p>
        This p5.js sketch visually recreates the pattern seen in a sunflower head, known as a phyllotaxis spiral. At its core, the code simulates how seeds or florets are arranged in nature, relying on the mathematics of the golden angle to produce a naturally balanced distribution. The program begins by initializing a counter variable, let n = 0;, which keeps track of the number of circles that have been drawn. In the setup() function, a full-screen canvas is created with createCanvas(windowWidth, windowHeight);, ensuring that the artwork scales to the size of the browser window. The background is set to white with background(255);, and outlines are removed from the circles using noStroke();, so each point appears clean and distinct.
Within the draw() function, each animation frame calculates the location for a new circle, spreading outward from the canvas center. The center coordinates are stored in cx and cy. The key to the spiral pattern is how the angle for each step is determined. The code computes the angle using let angle = n * radians(137.5);. Here, 137.5 degrees is the so-called “golden angle”, which, when used in this way, ensures that every new circle is positioned so as not to overlap previous ones, imitating the efficient packing found in sunflower seeds. The distance from the center, or radius, grows with the square root of n, as shown by let radius = 6 * sqrt(n);. This scaling prevents the circles from bunching up as the spiral grows.
To find the exact position for each circle, the program converts from polar to Cartesian coordinates using the trigonometric functions: let x = cx + radius * cos(angle); and let y = cy + radius * sin(angle);. Color is also varied based on n, with the fill() function producing a smooth gradient effect as more circles are drawn: fill(40 + n % 215, 160, 200, 180);. Each new circle is drawn at its calculated position with ellipse(x, y, 15, 15);. After each circle is placed, the counter n increases by one, so the next frame continues the spiral. Finally, the code automatically stops when the spiral reaches the edge of the canvas—this is checked with if (radius > min(width, height) / 2) noLoop();, which halts the drawing process when further circles would exceed the canvas area.
Overall, the sketch elegantly combines geometry, mathematics, and color to imitate a sunflower’s spiral arrangement, all by carefully controlling position, angle, and appearance through the core functions and logic of p5.js.
 </p>
    </div>
    <!-- Blocco 3: GALLERIA -->
    <div class="glass-box">
      <h3>IMAGE GALLERY</h3>
      <div class="gallery-row">
        <img src="images/project_7/1.png" alt="img1" class="gallery-img">
        <img src="images/project_7/2.png" alt="img2" class="gallery-img">
        <img src="images/project_7/3.png" alt="img3" class="gallery-img">
        <img src="images/project_7/4.png" alt="img4" class="gallery-img">
        <!-- altre immagini se vuoi -->
      </div>
    </div>
  </div>

    <div class="row one-bottom center">
    <p>©ARMAND LALA 2025</p>
  </div>
</div>
  
  <script src="js/p5.js"></script>
  <script src="js/p5.sound.min.js"></script>
  <script src="js/mold.js"></script>
  <script src="js/sketch.js"></script>

  <!-- POPUP OVERLAY -->
<div id="img-popup" style="display:none;position:fixed;z-index:10000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.77);justify-content:center;align-items:center;">
  <span id="popup-prev" class="popup-arrow" aria-label="Precedente">&lt;</span>
  <img id="img-popup-big" src="" style="max-width:90vw;max-height:85vh;border-radius:14px;box-shadow:0 6px 32px rgba(60,60,80,0.16);border:3px solid #fff;">
  <span id="popup-next" class="popup-arrow" aria-label="Successiva">&gt;</span>
</div>

<script>
const images = Array.from(document.querySelectorAll('.gallery-img'));
let currentIndex = 0;

function showPopup(index) {
  if(index < 0 || index >= images.length) return;
  currentIndex = index;
  document.getElementById('img-popup-big').src = images[currentIndex].src;
  document.getElementById('img-popup').style.display = 'flex';
}

images.forEach((img, idx) => {
  img.style.cursor = "pointer";
  img.onclick = function(e) {
    e.stopPropagation();
    showPopup(idx);
  }
});

function closePopup() {
  document.getElementById('img-popup').style.display = 'none';
}

document.getElementById('img-popup').onclick = closePopup;

document.getElementById('popup-prev').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex - 1 + images.length) % images.length);
};
document.getElementById('popup-next').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex + 1) % images.length);
};

// Tastiera: ← (37), → (39), ESC (27)
document.addEventListener('keydown', function(e) {
  if(document.getElementById('img-popup').style.display === 'flex') {
    if(e.key === 'ArrowLeft') {
      showPopup((currentIndex - 1 + images.length) % images.length);
      e.preventDefault();
    }
    if(e.key === 'ArrowRight') {
      showPopup((currentIndex + 1) % images.length);
      e.preventDefault();
    }
    if(e.key === 'Escape') {
      closePopup();
      e.preventDefault();
    }
  }
});
</script>


</body>
</html>
