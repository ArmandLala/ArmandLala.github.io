<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta charset="utf-8"> 
  <title>SUNFLOWER | A L</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet">
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/customize.css">
</head>
<body>
<!-- NAVBAR START -->
<nav class="navbar">
  <div class="navbar-left">
    <a href="/" class="navbar-home" title="Home">
      <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align: middle;">
        <path d="M3 11l9-9 9 9h-2v8a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-4h-2v4a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-8H3z" stroke="white" stroke-width="2" fill="none"/>
      </svg>
    </a>
  </div>
  <div class="navbar-right">
    <a href="/about/">ABOUT</a>
    <a href="/contacts/">CONTACTS</a>
    <div class="dropdown">
      <a href="#" class="dropbtn">PROJECTS</a>
      <div class="dropdown-content">
        <a href="/project0/">MORPHO·DOME</a>
        <a href="/project00/">PAPER ARCHITECTURE</a>
        <a href="/project1/">OPULENT TILING</a>
        <a href="/project2/">▲ ◼</a>
        <a href="/project3/">MAZE</a>
        <a href="/project4/">▲ ◼ ⏺</a>
        <a href="/project5/">URBAN MYCELIUM</a>
        <a href="/project6/">HYPNO SPIRAL</a>
        <a href="/project7/">SUNFLOWER</a>
        <a href="/project8/">◼ • ⏺</a>
        <a href="/project9/">QUAD-SPLIT METER</a>
      </div>
    </div>
  </div>
</nav>
<!-- NAVBAR END -->
  
  <div class="project-glass-wrapper">
    <!-- Blocco 1: COPERTINA -->
    <div class="glass-box">
  <div class="cover-head">
    <h1 class="cover-title">SUNFLOWER</h1>
    <div class="cover-icons">
      <a href="https://editor.p5js.org/armand.lala0/full/4d3uKSXkt" target="_blank" title="Vai al progetto JS" class="icon-btn">
        <span class="icon-js">JS*</span>
      </a>
      <a href="/doc/project7.pdf" target="_blank" download title="Scarica PDF" class="icon-btn">
        <svg height="20" width="20" viewBox="0 0 20 20" fill="none" stroke="white" stroke-width="2">
          <rect x="4" y="2" width="12" height="16" rx="2" fill="none"/>
          <path d="M8 6h4M8 10h4M8 14h4"/>
        </svg>
      </a>
    </div>
  </div>
  <img src="/images/purple.png" alt="Blue Project" class="cover-img">

    </div>
    <!-- Blocco 2: DESCRIZIONE -->
    <div class="glass-box">
<!-- Blocco 2: DESCRIZIONE -->
<div class="glass-box">
  <p class="project-detail">
    This p5.js sketch visually recreates the pattern seen in a sunflower head, known as a phyllotaxis spiral. At its core, the code simulates how seeds or florets are arranged in nature, relying on the mathematics of the golden angle to produce a naturally balanced distribution.
  </p>

  <p class="project-detail">
    The program begins by initializing a counter variable, <em>let n = 0;</em>, which keeps track of the number of circles that have been drawn. In the <em>setup()</em> function, a full-screen canvas is created with <em>createCanvas(windowWidth, windowHeight);</em>, ensuring that the artwork scales to the size of the browser window. The background is set to white with <em>background(255);</em>, and outlines are removed from the circles using <em>noStroke();</em>, so each point appears clean and distinct.
  </p>

  <p class="project-detail">
    Within the <em>draw()</em> function, each animation frame calculates the location for a new circle, spreading outward from the canvas center. The center coordinates are stored in <em>cx</em> and <em>cy</em>. The key to the spiral pattern is how the angle for each step is determined. The code computes the angle using <em>let angle = n * radians(137.5);</em>. Here, 137.5 degrees is the so-called “golden angle”, which, when used in this way, ensures that every new circle is positioned so as not to overlap previous ones, imitating the efficient packing found in sunflower seeds. The distance from the center, or radius, grows with the square root of <em>n</em>, as shown by <em>let radius = 6 * sqrt(n);</em>. This scaling prevents the circles from bunching up as the spiral grows.
  </p>

  <p class="project-detail">
    To find the exact position for each circle, the program converts from polar to Cartesian coordinates using the trigonometric functions: <em>let x = cx + radius * cos(angle);</em> and <em>let y = cy + radius * sin(angle);</em>. Color is also varied based on <em>n</em>, with the <em>fill()</em> function producing a smooth gradient effect as more circles are drawn: <em>fill(40 + n % 215, 160, 200, 180);</em>. Each new circle is drawn at its calculated position with <em>ellipse(x, y, 15, 15);</em>. After each circle is placed, the counter <em>n</em> increases by one, so the next frame continues the spiral.
  </p>

  <p class="project-detail">
    Finally, the code automatically stops when the spiral reaches the edge of the canvas—this is checked with <em>if (radius > min(width, height) / 2) noLoop();</em>, which halts the drawing process when further circles would exceed the canvas area. Overall, the sketch elegantly combines geometry, mathematics, and color to imitate a sunflower’s spiral arrangement, all by carefully controlling position, angle, and appearance through the core functions and logic of p5.js.
  </p>
</div>

<!-- Blocco 3: GALLERIA SCORREVOLE -->
<div class="glass-box gallery-container">
  <h2 class="gallery-title">IMAGE GALLERY</h2>

  <div class="gallery-wrapper">
    <button id="gallery-prev" class="gallery-arrow">‹</button>

    <div class="gallery-row">
      <img src="/images/project_7/1.png" alt="img1" class="gallery-img">
      <img src="/images/project_7/2.png" alt="img2" class="gallery-img">
      <img src="/images/project_7/3.png" alt="img3" class="gallery-img">
      <img src="/images/project_7/4.png" alt="img4" class="gallery-img">
      <!-- altre immagini se vuoi -->
    </div>

    <button id="gallery-next" class="gallery-arrow">›</button>
  </div>
</div>

    <div class="row one-bottom center">
    <p>©ARMAND LALA 2026</p>
  </div>
</div>
  
<script src="../js/p5.js"></script>
<script src="../js/p5.sound.min.js"></script>
<script src="../js/mold.js"></script>
<script src="../js/sketch.js"></script>

  <!-- POPUP OVERLAY -->
<div id="img-popup" style="display:none;position:fixed;z-index:10000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.77);justify-content:center;align-items:center;">
  <span id="popup-prev" class="popup-arrow" aria-label="Precedente">&lt;</span>
  <img id="img-popup-big" src="" style="max-width:90vw;max-height:85vh;border-radius:14px;box-shadow:0 6px 32px rgba(60,60,80,0.16);border:3px solid #fff;">
  <span id="popup-next" class="popup-arrow" aria-label="Successiva">&gt;</span>
</div>

<script>
const images = Array.from(document.querySelectorAll('.gallery-img'));
let currentIndex = 0;

function showPopup(index) {
  if(index < 0 || index >= images.length) return;
  currentIndex = index;
  document.getElementById('img-popup-big').src = images[currentIndex].src;
  document.getElementById('img-popup').style.display = 'flex';
}

images.forEach((img, idx) => {
  img.style.cursor = "pointer";
  img.onclick = function(e) {
    e.stopPropagation();
    showPopup(idx);
  }
});

function closePopup() {
  document.getElementById('img-popup').style.display = 'none';
}

document.getElementById('img-popup').onclick = closePopup;

document.getElementById('popup-prev').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex - 1 + images.length) % images.length);
};
document.getElementById('popup-next').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex + 1) % images.length);
};

// Tastiera: ← (37), → (39), ESC (27)
document.addEventListener('keydown', function(e) {
  if(document.getElementById('img-popup').style.display === 'flex') {
    if(e.key === 'ArrowLeft') {
      showPopup((currentIndex - 1 + images.length) % images.length);
      e.preventDefault();
    }
    if(e.key === 'ArrowRight') {
      showPopup((currentIndex + 1) % images.length);
      e.preventDefault();
    }
    if(e.key === 'Escape') {
      closePopup();
      e.preventDefault();
    }
  }
});
</script>
<script src="/js/gallery.js"></script>
</body>
</html>
